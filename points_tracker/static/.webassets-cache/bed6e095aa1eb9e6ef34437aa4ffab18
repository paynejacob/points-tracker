V(function(){'use strict'; angular.module('underscore',[]).factory('_',function(){return window._;});angular.module('moment',[]).factory('moment',function(){return window.moment;});angular.module('components',['underscore','moment']);\u000a\u000aangular.module('points_tracker.services',['ngResource']);angular.module('points_tracker.controllers',[]);angular.module('points_tracker.filters',[]);angular.module('points_tracker',['components','ui.bootstrap','ui.router','flask-assets-templates','points_tracker.services','points_tracker.controllers','points_tracker.filters','toaster']);})();(function(){'use strict';angular.module('points_tracker').config(PointsConfig).run(PointsRun);PointsConfig.$inject=['$stateProvider','$urlRouterProvider','$resourceProvider'];function PointsConfig($stateProvider,$urlRouterProvider,$resourceProvider){$urlRouterProvider.otherwise("/"); $stateProvider.state('dashboard',{url:'/',templateUrl:'/static/partials/dashboard.html',}).state('audio-list',{url:'/audio-list',templateUrl:'/static/partials/audio-list.html',}); $resourceProvider.defaults.stripTrailingSlashes=false;}\u000aPointsRun.$inject=['$rootScope'];function PointsRun($rootScope){ $rootScope._=_;$rootScope.$on('$stateChangeSuccess',function(event,toState,toParams,fromState,fromParams){\u000a $('html, body').animate({scrollTop:0},200);});}})();(function(){'use strict';angular.module('points_tracker.controllers').controller('AudiListCtrl',AudiListCtrl)\u000aAudiListCtrl.$inject=['$scope','toaster','$log','$http','$timeout'];function AudiListCtrl($scope,toaster,$log,$http,$timeout){var self=this;self.searchQuery='';self.playing=0;self.playAudio=function(id,length){$http.post('/play/'+id,{}).error(function(error){console.error('audio failed to play: '+error);self.playing='error';}).success(function(audio){console.log('played');self.playing=id;console.log(length);$timeout(function(){self.playing=0;},length*1000+500);});};self.getAudioList=function(){console.log('called');$http.post('/files/'+self.searchQuery,{}).error(function(error){console.error('Fetch audio list failed: '+error);}).success(function(audio){self.audio=audio;});};}})();(function(){'use strict';angular.module('points_tracker.controllers').controller('DashboardCtrl',DashboardCtrl)\u000aDashboardCtrl.$inject=['$scope','toaster','$log'];function DashboardCtrl($scope,toaster,$log){var self=this;self.title="Welcome!"}})();(function(){'use strict';angular.module('points_tracker.controllers').controller('FlaskToasterCtrl',FlaskToasterCtrl);FlaskToasterCtrl.$inject=['$scope','toaster','$rootScope'];function FlaskToasterCtrl($scope,toaster,$rootScope){var self=this;var allMessages=[];var allCategories=[];$('.flask-message').each(function(i,obj){allMessages.push(obj.innerHTML)});$('.flask-category').each(function(i,obj){allCategories.push(obj.innerHTML)});for(var i in allMessages){toaster.pop(allCategories[i],allMessages[i]);}}})();(function(){'use strict';angular.module('points_tracker.controllers').filter('formatAudioLength',formatAudioLength)\u000aformatAudioLength=function(){return function(input){var mins=Math.floor(input/60);var sec=input-mins*60;sec=(sec<10)?'0'+sec:sec\u000amins=(mins<10)?'0'+mins:mins\u000areturn mins+':'+sec;};};})();
p1
.